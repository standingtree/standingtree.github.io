<div id="container">
  <!-- populated by JS-->
</div>
<script src="./boston.js"></script>
<script>

  var Module = function(){
    return {
      publicMethod: () =>{console.log('Hey')}
    }
  }

  Module().publicMethod()

  function renderBoston(boston, container) {
    var people = boston.data;
    const len = people.length; // boston is an array
    var html = '';

    // getting top 5 earners
    let top_5_salaries = [0.0];
    let top_5_names = [''];

    for (let i = 0; i < len; i++) {
      person = people[i];
      name = person[8];
      salary = parseFloat(person[11]);

      // boolean to determine if this person in already in top 5
      let included = false;
      for(let x = 0; x < top_5_salaries.length; x++){
        top_salary = top_5_salaries[x];
        if (top_salary < salary && included === false){
           if (top_5_salaries.length === 5){
             // remove the lower salary to replace with the higher
             top_5_salaries.splice(x,0,salary);
             top_5_salaries.pop();
             top_5_names.splice(x,0,name);
             top_5_names.pop();
           }
           else{
             top_5_salaries.unshift(salary);
             top_5_names.unshift(name);
           }
           included = true;
        }
      }
    }

    // create the html tags
    top_5_salaries.forEach((t5_salary, i, top_5_salaries) => {
      html += '<li class="post">' +
        '<h2>' + top_5_names[i] + '</h2>' +
        '<h3>' + t5_salary + '</h3>'
    }
    )

    container.innerHTML = '<ul id = "topSalaries">' + html + '</ul>';

    // get the earners >200k salary
    salaries_over_200k = top_5_salaries.filter(salary => salary >= 200000.00)
    names_over_200k = []
    salaries_over_200k.forEach((salary, i, array) =>{
      salary_index = top_5_salaries.indexOf(salary);
      names_over_200k.push(top_5_names[salary_index]);
    })

    // create the html tags
    salaries_over_200k.forEach((salary, i, array) => {
      html += '<li class="post">' +
        '<h2>' + names_over_200k[i] + '</h2>' +
        '<h3>' + salary + '</h3>'
    }
    )



    container.innerHTML = '<ul id = "topEmployee">' + html + '</ul>';
  }

  renderBoston(boston, document.getElementById('container'));
</script>

